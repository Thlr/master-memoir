\documentclass[12pt, a4paper]{memoir}

% Essential packages
\usepackage[T1]{fontenc}
%\usepackage[latin1]{inputenc}
\usepackage[french,english]{babel}

% \usepackage{easyReview}

% personal packages
\usepackage [includehead, margin=1.5cm]{geometry}                % See geometry.pdf to learn the layout options. There are lots.
\usepackage{graphicx} % include images
\usepackage{wrapfig} % wrap text around figures
\usepackage{hyperref} % urls, hyperlinks, etc
% \usepackage{pdfpages} % include pdf pages
\usepackage{enumitem} % customize itemize
\usepackage[backend=bibtex]{biblatex} % bibliography
\usepackage{csquotes} % Quote bibliography and add hyperlinks
% \usepackage{titlesec} % Modify chapter headings
% \usepackage{wrapfig} % wrap text around figures
% \usepackage{float} % force figure positions at the end of the file
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}

% Packages from uga template
%\usepackage{fullpage}
\usepackage{mathptmx} % font = times
\usepackage{helvet} % font sf = helvetica
% \usepackage{amsmath}
% \usepackage{relsize}
% \usepackage{tikz}
\usepackage{booktabs}
% \usepackage{textcomp}%textquotesingle
\usepackage{multirow}
%
\usepackage{minted}

\usepackage{subcaption}
\captionsetup{compatibility=false}
% \usepackage{appendix}
% \usetikzlibrary{arrows,shapes,positioning,shadows,trees}
% \makesavenoteenv{tabular}
% \makesavenoteenv{table}

\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

%Style des têtes de section, headings, chapitre
\headstyles{komalike}
\nouppercaseheads
\chapterstyle{dash}
\makeevenhead{headings}{\sffamily\thepage}{}{\sffamily\leftmark} 
\makeoddhead{headings}{\sffamily\rightmark}{}{\sffamily\thepage}
\makeoddfoot{plain}{}{}{} % Pages chapitre. 
\makeheadrule{headings}{\textwidth}{\normalrulethickness}
%\renewcommand{\leftmark}{\thechapter ---}
\renewcommand{\chaptername}{\relax}
\renewcommand{\chaptitlefont}{ \sffamily\bfseries \LARGE}
\renewcommand{\chapnumfont}{ \sffamily\bfseries \LARGE}
\setsecnumdepth{subsection}
\addbibresource{biblio.bib}

% Customize itemize item markers
\renewcommand\labelitemi{-}

% Add source to figures caption
\newcommand*{\captionsource}[2]{%
    \caption[{#1}]{%
        #1%
        \\\hspace{\linewidth}%
	\textbf{Source:} \textit{#2}%
    }%
}

% Some settings for the title page
%\titleformat{\chapter}[display]{\normalfont\huge\bfseries}{}{0pt}{\Huge}
%\titlespacing*{\chapter} {0pt}{20pt}{40pt}

% Force footnotes to stay on one page
\interfootnotelinepenalty=10000

% Title page formatting -- do not change!
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\pretitle{\HUGE\sffamily \bfseries\begin{center}\HRule \\[0.2cm]} 
	\posttitle{\end{center}\HRule}
\preauthor{\LARGE  \sffamily \bfseries\begin{center}}
\postauthor{\par\end{center}}
\newcommand{\jury}[1]{% 
\gdef\juryB{#1}} 
\newcommand{\juryB}{} 
\newcommand{\session}[1]{% 
\gdef\sessionB{#1}} 
\newcommand{\sessionB}{} 
\newcommand{\option}[1]{% 
\gdef\optionB{#1}} 
\newcommand{\optionB} {}

\renewcommand{\maketitlehookd}{% 
\vfill{}  \large\par\noindent  
\begin{center}\juryB \bigskip\sessionB\end{center}
\vspace{-1.5cm}}
\renewcommand{\maketitlehooka}{% 
	\vspace{-1.5cm}\noindent\includegraphics[height=10ex]{./imgs/uga-logo.png}\hfill\includegraphics[height=10ex]{./imgs/ryax-logo.png}\hfill\includegraphics[height=10ex]{./imgs/Logo-LIG.jpg}\hfill\includegraphics[height=12ex]{./imgs/ENSIMAG.png}
\bigskip
\begin{center} \large
Master of Science in Informatics at Grenoble \\
Master Informatique \\ 
Specialization \optionB  \end{center}\vfill}
% =======================End of title page formatting

\option{MoSIG} 
%\title{Simulation of a Kubernetes Cluster with Validation in Real Conditions} %\\\vspace{-1ex}\rule{10ex}{0.5pt} \\sub-title} 
\title{Development and evaluation of a Kubernetes cluster simulator based on
Batsim}
\author{LARUE Théo}
\date{Defense Date, 2020} % Delete this line to display the current date
\jury{
	Research project performed at Laboratoire d'Informatique de Grenoble \\\medskip
Under the supervision of:\\
Michael Mercier\\\medskip
Defended before a jury composed of:\\
Céline Coutrix\\
Olivier Richard\\
Vania Marangozova-Martin\\
}
\session{September \hfill 2020}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{4}

\begin{document}
\selectlanguage{english} % french si rapport en français
\frontmatter
\begin{titlingpage}
\maketitle
\end{titlingpage}

%\small
\setlength{\parskip}{-1pt plus 1pt}

\renewcommand{\abstracttextfont}{\normalfont}
\abstractintoc
\begin{abstract} 
	Containers, which are lightweight virtual machines sharing the same
	kernel as their host machine, have given developers much more control
	over their resources than they had before when there was no
	intermediate between the application and the physical servers.
	Eventually, developers realized they could go even further by
	automating container management operations and in this context we
	witnessed the rise of container orchestration software. Kubernetes is
	one such software and arguably the most popular container orchestrator
	on the market.  However, while Kubernetes has become a standard, many
	fundamental questions remain. One such issue is the problem of
	scheduling, which in computer science is the action of allocating tasks
	submitted by users on available resources.  In order to properly
	evaluate and develop schedulers, researchers use simulators to model
	complex networks and computing infrastructures accurately in a short
	amount of time. Indeed, the cost of running experiments on real systems
	will never be justified by the improvements these experiments would
	enable.  While the default Kubernetes scheduler works well for most of
	the \textit{Cloud Native} infrastructures, researchers would rather
	experiment with different batch processing policies on Kubernetes
	clusters.  Our goal in this master thesis is to describe Batkube, an
	open source software enabling the study of Kubernetes schedulers by
	simulating Kubernetes clusters. Batkube is based on Batsim, which is
	itself a general purpose distributed system simulator focused on the
	study of \textit{Resource and Jobs Management Systems (RJMS)} and built
	on the popular SimGrid framework, enabling scalable and accurate
	simulations of grid systems. During this work we implemented a custom
	Kubernetes API to form an adaptive layer between Batsim and the
	schedulers in order to run simulations as if the scheduler was running
	on a real system. Time synchronization between the simulator and the
	scheduler being key to the simulation, we developed a tool to patch any
	scheduler written in the Go programming language allowing us to
	intercept their time and synchronize it with the scheduler. Using these
	tools we were able to run simulations of Kubernetes clusters and
	conduct a study on the time synchronization parameters. Our API
	currently supports the default Kubernetes scheduler and is only able to
	run simple scenarios, but it offers great perspective for future
	development to improve it into a fully fledged Kubernetes cluster
	simulator.
\end{abstract}
\abstractintoc

\renewcommand\abstractname{Acknowledgements}
\begin{abstract} 
	I would like to express my gratitude to Michael Mercier, my
	supervisor, and Olivier Richard who also supervised this work for their
	invaluable implication during the whole project. I sincerely thank them
	for giving me a guideline, for changing my perspective when I was going
	the wrong way, for their contribution to this work, for their sympathy
	and for their precious advices throughout these months.  I thank Adrien
	Faure for giving me a first review on my work and helping me with my
	graphs that would not be as readable and space efficient without him,
	Pedro Velho for his feedback on this report that helped me improve my
	text flow for those first paragraphs, and especially Michael Mercier for
	reviewing the whole paper. I warmly thank Milian Poquet for answering
	my interrogations whenever I had some. I also value the time I could
	spend at the LIG and I thank the DATAMOVE team for their sympathy for
	the time that I was there. Finally, my gratitude also goes to the Ryax
	team that helped me maintain human contact during the lockdown induced
	by the covid pandemic. The regular meetings we had and their positive
	feedback were essential to me under this very particular context.
\end{abstract}

\tableofcontents* % the asterisk means that the table of contents itself isn't put into the ToC
\normalsize

\mainmatter
\SingleSpace

\include{introduction}

\include{soa}

\include{implementation}

\include{evaluation}

\appendix
\appendixpage
% \addappheadtotoc

\include{appendix}

\backmatter
\printbibliography
\end{document}
